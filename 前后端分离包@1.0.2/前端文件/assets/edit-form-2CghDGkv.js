var j=Object.defineProperty;var U=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var Y=(m,r,n)=>r in m?j(m,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):m[r]=n,D=(m,r)=>{for(var n in r||(r={}))G.call(r,n)&&Y(m,n,r[n]);if(U)for(var n of U(r))L.call(r,n)&&Y(m,n,r[n]);return m};import{_ as W,O as $,P as z,r as c,u as J,m as K,i as Q,o as v,c as M,w as l,e as T,d as e,b as o,F as X,G as Z,p as ee,q as k,g as le,f as ae,a7 as te,a8 as oe,E as se,W as de,h as ue,M as re,N as me,j as ne}from"./index-DKVio5DX.js";import{E as pe}from"./alert-GJy0wCuj.js";import{E as ie,a as fe}from"./col-Ru1YGmP5.js";import{E as _e}from"./date-picker-F14weS8C.js";import{i as ge}from"./index-1zv9CzUI.js";import{u as ce,a as be}from"./index-v5MNGS2a.js";import{l as Ve}from"./index--y5nxKK5.js";const xe=m=>(re("data-v-e9ba8e28"),m=m(),me(),m),ve=xe(()=>ne("br",null,null,-1)),we={__name:"edit-form",props:{data:Object},setup(m){const r=m,{currentRoute:n,push:P}=$(),{removePageTab:w,reloadPageTab:C}=z(),b=c(!1),_=c(!1),V=c(null),y=c([]);Ve().then(p=>{y.value=p});const{form:s,resetFields:S,assignFields:F}=J({userId:void 0,softId:void 0,userStatus:void 0,userType:void 0,userAccount:"",userPass:"",endtime:"",point:void 0,opening:void 0,bind:void 0,unbind:"",data_extra:"",data_cloud:"",regIp:"",regMac:"",regTime:"",loginTime:""}),H=K({userAccount:[{required:!0,message:"请输入账户账号",type:"string",trigger:"blur"}],softId:[{required:!0,message:"请选择账户所属软件",type:"number",trigger:"blur"}],userType:[{required:!0,message:"请选择账户类型",type:"string",trigger:"blur"}],userStatus:[{required:!0,message:"请选择账户状态",type:"string",trigger:"blur"}]}),A=()=>{var p,a;(a=(p=V.value)==null?void 0:p.validate)==null||a.call(p,g=>{if(!g)return;_.value=!0,(b.value?ce:be)(s).then(f=>{_.value=!1,k.success(f),q()}).catch(f=>{_.value=!1,k.error(f.message)})})},h=()=>{w({key:o(n).path}),P("/soft/user")},q=()=>{w({key:o(n).path}),C({fullPath:"/soft/user"})};return Q(()=>r.data,()=>{var p,a;r.data?(F(D({},r.data)),b.value=!0):(b.value=!1,S(),(a=(p=V.value)==null?void 0:p.clearValidate)==null||a.call(p))},{immediate:!0}),(p,a)=>{const g=le,u=ae,f=ge,d=ie,B=te,N=oe,i=se,E=de,I=_e,x=fe,O=pe,R=ue;return v(),M(R,{ref_key:"formRef",ref:V,model:o(s),rules:H,"label-width":"80px"},{default:l(()=>[e(x,{gutter:10},{default:l(()=>[e(d,{xs:24,sm:24,md:24,lg:24,xl:24},{default:l(()=>[e(f,null,{default:l(()=>[e(u,{style:{"margin-left":"-90px","margin-top":"-10px","margin-block":"-10px"}},{default:l(()=>[e(g,{type:"primary",loading:_.value,onClick:A},{default:l(()=>[T(" 保存 ")]),_:1},8,["loading"]),e(g,{onClick:h},{default:l(()=>[T("关闭")]),_:1})]),_:1})]),_:1})]),_:1}),e(d,{xs:24,sm:24,md:12,lg:12,xl:12},{default:l(()=>[e(f,null,{default:l(()=>[e(x,null,{default:l(()=>[e(d,{lg:24,md:24,sm:24,xs:24},{default:l(()=>[e(u,{label:"所属软件",prop:"softId"},{default:l(()=>[e(N,{clearable:"",modelValue:o(s).softId,"onUpdate:modelValue":a[0]||(a[0]=t=>o(s).softId=t),placeholder:"请选择账户所属软件",class:"ele-fluid"},{default:l(()=>[(v(!0),ee(X,null,Z(y.value,t=>(v(),M(B,{key:t.softId,value:t.softId,label:t.softName},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(d,{lg:24,md:24,sm:24,xs:24},{default:l(()=>[e(u,{label:"账户账号",prop:"userAccount"},{default:l(()=>[e(i,{clearable:"",maxlength:100,modelValue:o(s).userAccount,"onUpdate:modelValue":a[1]||(a[1]=t=>o(s).userAccount=t),"show-word-limit":"",placeholder:"请输入账户账号"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{lg:24,md:24,sm:24,xs:24},{default:l(()=>[e(u,{label:"账户密码",prop:"userPass"},{default:l(()=>[e(i,{clearable:"",maxlength:100,modelValue:o(s).userPass,"onUpdate:modelValue":a[2]||(a[2]=t=>o(s).userPass=t),"show-word-limit":"",placeholder:"请输入账户密码(修改账户时如无需修改密码则留空即可)"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{lg:24,md:24,sm:24,xs:24},{default:l(()=>[e(u,{label:"账户类型",prop:"userType"},{default:l(()=>[e(E,{code:"soft_user_type",modelValue:o(s).userType,"onUpdate:modelValue":a[3]||(a[3]=t=>o(s).userType=t)},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{lg:24,md:24,sm:24,xs:24},{default:l(()=>[e(u,{label:"账户状态",prop:"userStatus"},{default:l(()=>[e(E,{code:"soft_user_status",modelValue:o(s).userStatus,"onUpdate:modelValue":a[4]||(a[4]=t=>o(s).userStatus=t)},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{lg:24,md:24,sm:24,xs:24},{default:l(()=>[e(u,{label:"注册时间",prop:"regTime"},{default:l(()=>[e(I,{type:"datetime",modelValue:o(s).regTime,"onUpdate:modelValue":a[5]||(a[5]=t=>o(s).regTime=t),format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss",class:"ele-fluid"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{lg:24,md:24,sm:24,xs:24},{default:l(()=>[e(u,{label:"注册IP",prop:"regIp"},{default:l(()=>[e(i,{clearable:"",modelValue:o(s).regIp,"onUpdate:modelValue":a[6]||(a[6]=t=>o(s).regIp=t),"show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{lg:24,md:24,sm:24,xs:24},{default:l(()=>[e(u,{label:"注册MAC",prop:"regMac"},{default:l(()=>[e(i,{clearable:"",modelValue:o(s).regMac,"onUpdate:modelValue":a[7]||(a[7]=t=>o(s).regMac=t),"show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(d,{xs:24,sm:24,md:12,lg:12,xl:12},{default:l(()=>[e(f,null,{default:l(()=>[e(x,null,{default:l(()=>[e(d,{lg:12,md:12,sm:12,xs:24},{default:l(()=>[e(u,{label:"过期时间",prop:"endtime"},{default:l(()=>[e(I,{type:"datetime",modelValue:o(s).endtime,"onUpdate:modelValue":a[8]||(a[8]=t=>o(s).endtime=t),format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss",class:"ele-fluid"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{lg:12,md:12,sm:12,xs:24},{default:l(()=>[e(u,{label:"点数余额",prop:"point"},{default:l(()=>[e(i,{clearable:"",maxlength:20,modelValue:o(s).point,"onUpdate:modelValue":a[9]||(a[9]=t=>o(s).point=t),"show-word-limit":"",placeholder:"请输入点数余额"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{lg:12,md:12,sm:12,xs:24},{default:l(()=>[e(u,{label:"特征数量",prop:"bind"},{default:l(()=>[e(i,{clearable:"",modelValue:o(s).bind,"onUpdate:modelValue":a[10]||(a[10]=t=>o(s).bind=t),"show-word-limit":"",placeholder:"请输入绑定特征的数量"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{lg:12,md:12,sm:12,xs:24},{default:l(()=>[e(u,{label:"通道数量",prop:"opening"},{default:l(()=>[e(i,{clearable:"",modelValue:o(s).opening,"onUpdate:modelValue":a[11]||(a[11]=t=>o(s).opening=t),"show-word-limit":"",placeholder:"请输入多开通道数量"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{lg:24,md:24,sm:24,xs:24},{default:l(()=>[e(O,{title:"账户解绑次数的格式：天|周|月|总，例：1|7|15|-1 意思是每天可解绑1次，每周总共可解绑7次，每月可解绑15次，总共可解绑无限次",type:"warning",closable:!1}),ve]),_:1}),e(d,{lg:24,md:24,sm:24,xs:24},{default:l(()=>[e(u,{label:"解绑次数",prop:"unbind"},{default:l(()=>[e(i,{clearable:"",modelValue:o(s).unbind,"onUpdate:modelValue":a[12]||(a[12]=t=>o(s).unbind=t),"show-word-limit":"",placeholder:"请输入可解绑次数(请一定要按照格式填写)"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{lg:24,md:24,sm:24,xs:24},{default:l(()=>[e(u,{label:"附加数据",prop:"dataExtra"},{default:l(()=>[e(i,{modelValue:o(s).dataExtra,"onUpdate:modelValue":a[13]||(a[13]=t=>o(s).dataExtra=t),rows:6,type:"textarea",placeholder:"自定义附加数据"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{lg:24,md:24,sm:24,xs:24},{default:l(()=>[e(u,{label:"云端数据",prop:"dataCloud"},{default:l(()=>[e(i,{modelValue:o(s).dataCloud,"onUpdate:modelValue":a[14]||(a[14]=t=>o(s).dataCloud=t),rows:2,type:"textarea",placeholder:"一般用来上传存储用户的云数据"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}},ke=W(we,[["__scopeId","data-v-e9ba8e28"]]);export{ke as E};
