var W=Object.defineProperty,ee=Object.defineProperties;var te=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable;var F=(l,n,o)=>n in l?W(l,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[n]=o,$=(l,n)=>{for(var o in n||(n={}))oe.call(n,o)&&F(l,o,n[o]);if(O)for(var o of O(n))ae.call(n,o)&&F(l,o,n[o]);return l},P=(l,n)=>ee(l,te(n));var U=(l,n,o)=>new Promise((f,y)=>{var d=c=>{try{e(o.next(c))}catch(s){y(s)}},u=c=>{try{e(o.throw(c))}catch(s){y(s)}},e=c=>c.done?f(c.value):Promise.resolve(c.value).then(d,u);e((o=o.apply(l,n)).next())});import{_ as k,ap as le,v as N,o as v,c as b,w as t,d as a,t as h,e as p,d6 as ne,b as Z,j as _,V as se,L as re,k as V,bI as ce,M as H,N as M,r as m,bs as J,d7 as K,br as Y,Z as ie,F as D,a6 as z,ae as G,G as A,p as L,al as de,d8 as ue,d9 as _e,da as pe,db as fe,dc as me,dd as ye,de as ve,A as ge,s as X,C as he,bH as be,D as xe,g as Te,l as we}from"./index-DKVio5DX.js";import{E as j,a as R}from"./col-Ru1YGmP5.js";import{i as E}from"./index-1zv9CzUI.js";import{i as ke}from"./index-JCBdu9eJ.js";import"./index-hd5M_H5A.js";import{E as Ce}from"./text-lzaRNwcJ.js";import{E as Ee,a as Se}from"./timeline-item-sC44rkBs.js";import{_ as Ie}from"./index-bQp54GjP.js";import{g as $e,h as Ue}from"./github-markdown-light--sWw-Hw4.js";import{i as Ze}from"./index-C8m5DZvo.js";const B=l=>(H("data-v-7c631079"),l=l(),M(),l),ze={class:"profile-wrapper"},Ne={class:"profile-main"},De={class:"profile-body"},Ae={class:"profile-count"},Le={class:"profile-count-item"},je={class:"profile-count-header"},Re=B(()=>_("span",{class:"profile-count-name"},"账户余额",-1)),Be={class:"profile-count-item"},Oe={class:"profile-count-header"},Fe=B(()=>_("span",{class:"profile-count-name"},"账户消费",-1)),Pe={class:"profile-count-item"},Ve={class:"profile-count-header"},He=B(()=>_("span",{class:"profile-count-name"},"CPU电量",-1)),Me={__name:"profile-card",setup(l){const n=le(),o=N(()=>{var f;return(f=n.info)!=null?f:{}});return(f,y)=>{const d=se,u=re,e=V,c=ce,s=E,i=j,g=R;return v(),b(g,null,{default:t(()=>[a(i,{md:24,sm:24,xs:24},{default:t(()=>[a(s,{"body-style":{padding:"10px"}},{default:t(()=>[_("div",ze,[_("div",Ne,[a(d,{size:68,src:o.value.avatar,class:"profile-avatar"},null,8,["src"]),_("div",De,[a(u,{size:"xl",type:"heading",style:{"font-weight":"normal"}},{default:t(()=>[p(h(o.value.nickname)+", 开始您一天的工作吧! ",1)]),_:1}),a(u,{type:"placeholder",icon:Z(ne)},{default:t(()=>[p(" 莫对他人妄行揣测，是人能给予自己的最高尊严。 ")]),_:1},8,["icon"])])]),_("div",Ae,[_("div",Le,[_("div",je,[a(e,{size:"large","disable-transitions":!0},{default:t(()=>[p(" 💰 ")]),_:1}),Re]),a(u,{size:"xl",type:"heading",style:{"font-weight":"normal"}},{default:t(()=>[p(" ￥"+h(o.value.money),1)]),_:1})]),_("div",Be,[_("div",Oe,[a(e,{size:"large","disable-transitions":!0},{default:t(()=>[p(" 💸 ")]),_:1}),Fe]),a(u,{size:"xl",type:"heading",style:{"font-weight":"normal"}},{default:t(()=>[p(" ￥"+h(o.value.consume),1)]),_:1})]),_("div",Pe,[a(c,{class:"box-item",effect:"dark",content:"软件用户每日登录会消耗CPU电量",placement:"top-start"},{default:t(()=>[_("div",Ve,[a(e,{size:"large",type:"warning","disable-transitions":!0},{default:t(()=>[p(" ⚡ ")]),_:1}),He])]),_:1}),a(u,{size:"xl",type:"heading",style:{"font-weight":"normal"}},{default:t(()=>[p(h(o.value.money2),1)]),_:1})])])])]),_:1})]),_:1})]),_:1})}}},Je=k(Me,[["__scopeId","data-v-7c631079"]]),Ke={class:"app-link-title"},Ye={components:{User:de,Monitor:ue,Avatar:_e,Connection:pe,Postcard:fe,ScaleToOriginal:me,Bell:ye,Coin:ve}},Ge=Object.assign(Ye,{__name:"link-card",setup(l,{expose:n}){const o="workplace-links",f=[{icon:"Monitor",title:"软件",url:"/project/soft",color:"#FF0066"},{icon:"User",title:"用户",url:"/soft/user"},{icon:"Avatar",title:"代理",url:"/agent/user",color:"#ff9c6e"},{icon:"Connection",title:"在线",url:"/soft/online",color:"#b37feb"},{icon:"Postcard",title:"卡种",url:"/soft/carmit",color:"#ffd666"},{icon:"ScaleToOriginal",title:"卡库",url:"/soft/carmi",color:"#5cdbd3"},{icon:"Bell",title:"公告",url:"/project/notice",color:"#ff85c0"},{icon:"Coin",title:"版本",url:"/project/edition",color:"#ffc069"}],y=(()=>{const i=localStorage.getItem(o);try{return i?JSON.parse(i):null}catch(g){return null}})(),d=m([...y!=null?y:f]),u=m(null);let e=null;const c=()=>{d.value=[...f],s()},s=()=>{localStorage.setItem(o,JSON.stringify(d.value))};return J(()=>{var i;"ontouchstart"in document.documentElement||(e=new K((i=u.value)==null?void 0:i.$el,{animation:300,onUpdate:({oldIndex:g,newIndex:r})=>{if(typeof g=="number"&&typeof r=="number"){const T=[...d.value];T.splice(r,0,T.splice(g,1)[0]),d.value=T,s()}},setData:()=>{}}))}),Y(()=>{e&&(e.destroy(),e=null)}),n({reset:c}),(i,g)=>{const r=ge,T=ie("router-link"),S=E,C=j,I=R;return v(),b(I,{gutter:16,ref_key:"wrapRef",ref:u},{default:t(()=>[(v(!0),L(D,null,A(d.value,w=>(v(),b(C,{key:w.url,md:3,sm:6,xs:12},{default:t(()=>[a(S,{shadow:"hover","body-style":{padding:0}},{default:t(()=>[a(T,{to:w.url,class:"app-link"},{default:t(()=>[a(r,{class:"app-link-icon",style:z({color:w.color})},{default:t(()=>[(v(),b(G(w.icon)))]),_:2},1032,["style"]),_("div",Ke,h(w.title),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128))]),_:1},512)}}}),Xe=k(Ge,[["__scopeId","data-v-374d9c74"]]);function qe(){return U(this,null,function*(){const l=yield X.get("/system/console/noticeList");return l.data.code===0?l.data.data:Promise.reject(new Error(l.data.message))})}function Qe(l){return U(this,null,function*(){const n=yield X.get("/system/console/softList",{params:l});return n.data.code===0?n.data.data:Promise.reject(new Error(n.data.message))})}const We={name:"AgentLog"},et=Object.assign(We,{setup(l){const n=m(null),o=N(()=>[{prop:"softId",label:"ID",align:"center",width:60},{prop:"softName",label:"软件名称",width:160,slot:"softName"},{prop:"softCode",label:"软件识别码",width:180},{prop:"softStatus",label:"运营状态",width:90,align:"center"},{prop:"chargeType",label:"计费方式",width:140,align:"center",slot:"chargeType"},{prop:"loginType",label:"登录方式",width:140,align:"center",slot:"loginType"},{prop:"userCount",label:"用户量",width:140,align:"center",formatter:e=>e.userCount+" 位"},{prop:"carmiZT",label:"卡库(汇总)",width:120,formatter:e=>e.carmiZT+" 张"},{prop:"carmiZT0",label:"卡库(未使用)",width:120,formatter:e=>e.carmiZT0+" 张"},{prop:"carmiZT1",label:"卡库(已出售)",width:120,formatter:e=>e.carmiZT1+" 张"},{prop:"carmiZT2",label:"卡库(已使用)",width:120,formatter:e=>e.carmiZT2+" 张"},{prop:"carmiZT3",label:"卡库(已失效)",width:120,formatter:e=>e.carmiZT3+" 张"},{prop:"carmiZT4",label:"卡库(被锁定)",width:120,formatter:e=>e.carmiZT4+" 张"}]),f=m([]),y=m(!0),d=m(null),u=({page:e,limit:c,where:s,orders:i})=>Qe(P($($({},s),i),{page:e,limit:c}));return(e,c)=>{const s=V,i=ke,g=E;return v(),b(g,{"body-style":{padding:"10px 10px 10px 10px"},"flex-table":y.value},{default:t(()=>[a(i,{ref_key:"tableRef",ref:n,"row-key":"carmiId",columns:o.value,datasource:u,current:d.value,"onUpdate:current":c[0]||(c[0]=r=>d.value=r),selections:f.value,"onUpdate:selections":c[1]||(c[1]=r=>f.value=r),"show-overflow-tooltip":!0,"highlight-current-row":"",stripe:!1,border:!1,toolbar:!1,height:420},{softName:t(({row:r})=>[p(h(r.softName)+" ",1),a(s,{class:"ml-2",size:"small",type:r.softStatus_style,round:""},{default:t(()=>[p(h(r.softStatus),1)]),_:2},1032,["type"])]),chargeType:t(({row:r})=>[a(s,{class:"ml-2",style:z(r.chargeType_style),effect:"dark"},{default:t(()=>[p(h(r.chargeType),1)]),_:2},1032,["style"])]),loginType:t(({row:r})=>[a(s,{class:"ml-2",effect:"plain",style:z(r.loginType_style)},{default:t(()=>[p(h(r.loginType),1)]),_:2},1032,["style"])]),_:1},8,["columns","current","selections"])]),_:1},8,["flex-table"])}}}),tt=k(et,[["__scopeId","data-v-da3dc71b"]]),ot=l=>(H("data-v-5a5950cd"),l=l(),M(),l),at=ot(()=>_("br",null,null,-1)),lt={__name:"activities-card",props:{title:String},emits:["command"],setup(l,{emit:n}){const o=m([]);qe().then(s=>{o.value=s});const f=m(null),y=m(null),d=m(null),u=m(null),e=m(!1),c=s=>{f.value=s.noticeTitle,y.value=s.noticeInfo,d.value=s.noticeType,u.value=s.createTime,e.value=!0};return(s,i)=>{const g=he,r=Ee,T=Se,S=be,C=Ce,I=xe,w=Te,q=we,Q=E;return v(),b(Q,{header:l.title,"body-style":{padding:"6px 0",height:"240px"}},{default:t(()=>[a(S,{"view-style":{padding:"20px 20px 0 20px"}},{default:t(()=>[a(T,{reverse:!1,class:"demo-timeline"},{default:t(()=>[(v(!0),L(D,null,A(o.value,x=>(v(),b(r,{key:x.noticeId,timestamp:x.createTimeX,type:x.noticeType,hollow:!0},{default:t(()=>[a(g,{type:x.noticeType,onClick:ct=>c(x)},{default:t(()=>[p(h(x.noticeTitle),1)]),_:2},1032,["type","onClick"])]),_:2},1032,["timestamp","type"]))),128))]),_:1})]),_:1}),a(q,{width:800,modelValue:e.value,"onUpdate:modelValue":i[1]||(i[1]=x=>e.value=x),responsive:!0,resizable:!0,maxable:!0,"destroy-on-close":!1,position:"center"},{footer:t(()=>[a(w,{onClick:i[0]||(i[0]=x=>e.value=!1)},{default:t(()=>[p("确定")]),_:1})]),default:t(()=>[_("div",null,[_("b",null,[a(C,{type:d.value,italic:"",style:{"font-size":"15px"}},{default:t(()=>[p(h(f.value),1)]),_:1},8,["type"])]),at,a(C,{type:"info"},{default:t(()=>[p(" 发布时间："+h(u.value),1)]),_:1}),a(I,{"border-style":"dashed","content-position":"left"},{default:t(()=>[p("具体内容")]),_:1}),a(Ie,{value:y.value,config:{plugins:[Z($e)(),Z(Ue)()]},style:{"max-width":"880px","max-height":"500px",margin:"0 auto",padding:"0px"}},null,8,["value","config"])])]),_:1},8,["modelValue"])]),_:1},8,["header"])}}},nt=k(lt,[["__scopeId","data-v-5a5950cd"]]),st={name:"Console",components:{ActivitiesCard:nt}},rt=Object.assign(st,{setup(l){const n=[{name:"activities-card",title:"平台公告",md:24,sm:24,xs:24}],o=m([...n]);m(!1);const f=m(null),y=m(null);let d=null;N(()=>n.filter(e=>!o.value.some(c=>c.name===e.name)));const u=()=>{localStorage.setItem(CACHE_KEY,JSON.stringify(o.value))};return J(()=>{var e;"ontouchstart"in document.documentElement||(d=new K((e=y.value)==null?void 0:e.$el,{handle:".el-card__header",animation:300,onUpdate:({oldIndex:c,newIndex:s})=>{if(typeof c=="number"&&typeof s=="number"){const i=[...o.value];i.splice(s,0,i.splice(c,1)[0]),o.value=i,u()}},setData:()=>{},forceFallback:!0}))}),Y(()=>{d&&d.destroy(),d=null}),(e,c)=>{const s=j,i=R,g=Ze;return v(),b(g,{class:"workplace-page"},{default:t(()=>[a(i,{gutter:16,ref_key:"wrapRef",ref:y},{default:t(()=>[(v(!0),L(D,null,A(o.value,(r,T)=>(v(),b(s,{key:r.name,md:r.md,sm:r.sm,xs:r.xs},{default:t(()=>[(v(),b(G(r.name),{title:r.title},null,8,["title"]))]),_:2},1032,["md","sm","xs"]))),128))]),_:1},512),a(Je),a(Xe,{ref_key:"linkCardRef",ref:f},null,512),a(tt)]),_:1})}}}),bt=k(rt,[["__scopeId","data-v-3cec8f80"]]);export{bt as default};
