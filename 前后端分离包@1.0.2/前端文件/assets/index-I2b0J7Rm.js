import{_ as I,O as V,P as F,T as P,u as U,r as q,i as w,o as r,c,w as a,U as C,b as e,e as p,d as s,j as n,t as o,n as O,F as R,G as $,p as j,g as A,V as M,k as S,q as G}from"./index-DKVio5DX.js";import{i as H}from"./index-1zv9CzUI.js";import{E as L,a as J}from"./descriptions-item-KgQ7D8Go.js";import{i as K}from"./index-Mhy2Zebh.js";import{g as Q}from"./index-7IXGg2mp.js";import{i as W}from"./index-C8m5DZvo.js";const X={style:{"margin-bottom":"16px"}},Y={style:{display:"flex"}},Z={name:"SystemUserDetails"},ee=Object.assign(Z,{setup(te){const g="/system/user/details",{currentRoute:m,push:k}=V(),{removePageTab:y}=F(),{mobile:x}=P(),{form:t,assignFields:h}=U({userId:void 0,avatar:void 0,username:"",nickname:"",sexName:"",phone:"",roles:[],createTime:void 0,loginTime:void 0,status:void 0,money:void 0,consume:void 0}),_=q(!0),T=()=>{y({key:e(m).path}),k("/system/user")},E=()=>{const{query:d}=e(m),i=d.id;!i||t.userId===Number(i)||(_.value=!0,Q(Number(i)).then(u=>{_.value=!1,h(u)}).catch(u=>{_.value=!1,G.error(u.message)}))};return w(m,d=>{const{path:i}=e(d);i===g&&E()},{immediate:!0}),(d,i)=>{const u=A,f=M,l=L,b=K,N=S,B=J,z=H,D=W;return r(),c(D,{"multi-card":!1},{default:a(()=>[s(z,null,{default:a(()=>[n("div",X,[s(u,{icon:e(C),type:"primary",class:"ele-btn-icon",onClick:T},{default:a(()=>[p(" 返回列表 ")]),_:1},8,["icon"])]),s(B,{border:!0,column:e(x)?1:2,class:"detail-table"},{default:a(()=>[s(l,{label:"头像"},{default:a(()=>[n("div",Y,[e(t).avatar?(r(),c(f,{key:0,src:e(t).avatar,size:32},null,8,["src"])):(r(),c(f,{key:1,style:{background:"#1677ff"},size:32},{default:a(()=>[p(o(e(t).nickname&&e(t).nickname.length>2?e(t).nickname.substring(e(t).nickname.length-2):e(t).nickname),1)]),_:1}))])]),_:1}),s(l,{label:"用户名"},{default:a(()=>[n("div",null,o(e(t).nickname),1)]),_:1}),s(l,{label:"账号"},{default:a(()=>[n("div",null,o(e(t).username),1)]),_:1}),s(l,{label:"状态"},{default:a(()=>[e(t).status===0?(r(),c(b,{key:0,text:"正常",size:"9px"})):e(t).status===1?(r(),c(b,{key:1,text:"冻结",type:"danger",ripple:!1,size:"9px"})):O("",!0)]),_:1}),s(l,{label:"性别"},{default:a(()=>[n("div",null,o(e(t).sexName),1)]),_:1}),s(l,{label:"手机号"},{default:a(()=>[n("div",null,o(e(t).phone),1)]),_:1}),s(l,{label:"账户余额"},{default:a(()=>[n("div",null,o(e(t).money)+"￥",1)]),_:1}),s(l,{label:"账户消费"},{default:a(()=>[n("div",null,o(e(t).consume)+"￥",1)]),_:1}),s(l,{label:"角色"},{default:a(()=>[(r(!0),j(R,null,$(e(t).roles,v=>(r(),c(N,{key:v.roleId,size:"small","disable-transitions":!0},{default:a(()=>[p(o(v.roleName),1)]),_:2},1024))),128))]),_:1}),s(l,{label:"登录时间"},{default:a(()=>[n("div",null,o(e(t).loginTime),1)]),_:1}),s(l,{label:"创建时间"},{default:a(()=>[n("div",null,o(e(t).createTime),1)]),_:1})]),_:1},8,["column"])]),_:1})]),_:1})}}}),ie=I(ee,[["__scopeId","data-v-b09c0e57"]]);export{ie as default};
