var j=Object.defineProperty,R=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var P=(r,t,o)=>t in r?j(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,D=(r,t)=>{for(var o in t||(t={}))q.call(t,o)&&P(r,o,t[o]);if(C)for(var o of C(t))G.call(t,o)&&P(r,o,t[o]);return r},N=(r,t)=>R(r,U(t));import{aA as H,aE as v,a9 as A,aB as J,v as n,ax as K,cA as Q,au as X,cB as Y,cC as Z,c1 as ee,bu as I,o as c,p as d,ag as u,b as s,j as g,a6 as h,af as T,t as _,n as F,c as x,w as te,ae as se,A as ae,aC as re,aD as oe}from"./index-DKVio5DX.js";const ne=H({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:r=>r>=0&&r<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:v(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:v([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:v(Function),default:r=>`${r}%`}}),le=["aria-valuenow"],ie={viewBox:"0 0 100 100"},ce=["d","stroke","stroke-linecap","stroke-width"],ue=["d","stroke","opacity","stroke-linecap","stroke-width"],de={key:0},pe=A({name:"ElProgress"}),fe=A(N(D({},pe),{props:ne,setup(r){const t=r,o={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},a=J("progress"),E=n(()=>({width:`${t.percentage}%`,animationDuration:`${t.duration}s`,backgroundColor:B(t.percentage)})),k=n(()=>(t.strokeWidth/t.width*100).toFixed(1)),b=n(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(k.value)/2}`,10):0),w=n(()=>{const e=b.value,l=t.type==="dashboard";return`
          M 50 50
          m 0 ${l?"":"-"}${e}
          a ${e} ${e} 0 1 1 0 ${l?"-":""}${e*2}
          a ${e} ${e} 0 1 1 0 ${l?"":"-"}${e*2}
          `}),y=n(()=>2*Math.PI*b.value),m=n(()=>t.type==="dashboard"?.75:1),$=n(()=>`${-1*y.value*(1-m.value)/2}px`),W=n(()=>({strokeDasharray:`${y.value*m.value}px, ${y.value}px`,strokeDashoffset:$.value})),z=n(()=>({strokeDasharray:`${y.value*m.value*(t.percentage/100)}px, ${y.value}px`,strokeDashoffset:$.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),L=n(()=>{let e;return t.color?e=B(t.percentage):e=o[t.status]||o.default,e}),M=n(()=>t.status==="warning"?K:t.type==="line"?t.status==="success"?Q:X:t.status==="success"?Y:Z),V=n(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),S=n(()=>t.format(t.percentage));function O(e){const l=100/e.length;return e.map((i,f)=>I(i)?{color:i,percentage:(f+1)*l}:i).sort((i,f)=>i.percentage-f.percentage)}const B=e=>{var l;const{color:p}=t;if(ee(p))return p(e);if(I(p))return p;{const i=O(p);for(const f of i)if(f.percentage>e)return f.color;return(l=i[i.length-1])==null?void 0:l.color}};return(e,l)=>(c(),d("div",{class:u([s(a).b(),s(a).m(e.type),s(a).is(e.status),{[s(a).m("without-text")]:!e.showText,[s(a).m("text-inside")]:e.textInside}]),role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[e.type==="line"?(c(),d("div",{key:0,class:u(s(a).b("bar"))},[g("div",{class:u(s(a).be("bar","outer")),style:h({height:`${e.strokeWidth}px`})},[g("div",{class:u([s(a).be("bar","inner"),{[s(a).bem("bar","inner","indeterminate")]:e.indeterminate},{[s(a).bem("bar","inner","striped")]:e.striped},{[s(a).bem("bar","inner","striped-flow")]:e.stripedFlow}]),style:h(s(E))},[(e.showText||e.$slots.default)&&e.textInside?(c(),d("div",{key:0,class:u(s(a).be("bar","innerText"))},[T(e.$slots,"default",{percentage:e.percentage},()=>[g("span",null,_(s(S)),1)])],2)):F("v-if",!0)],6)],6)],2)):(c(),d("div",{key:1,class:u(s(a).b("circle")),style:h({height:`${e.width}px`,width:`${e.width}px`})},[(c(),d("svg",ie,[g("path",{class:u(s(a).be("circle","track")),d:s(w),stroke:`var(${s(a).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":e.strokeLinecap,"stroke-width":s(k),fill:"none",style:h(s(W))},null,14,ce),g("path",{class:u(s(a).be("circle","path")),d:s(w),stroke:s(L),fill:"none",opacity:e.percentage?1:0,"stroke-linecap":e.strokeLinecap,"stroke-width":s(k),style:h(s(z))},null,14,ue)]))],6)),(e.showText||e.$slots.default)&&!e.textInside?(c(),d("div",{key:2,class:u(s(a).e("text")),style:h({fontSize:`${s(V)}px`})},[T(e.$slots,"default",{percentage:e.percentage},()=>[e.status?(c(),x(s(ae),{key:1},{default:te(()=>[(c(),x(se(s(M))))]),_:1})):(c(),d("span",de,_(s(S)),1))])],6)):F("v-if",!0)],10,le))}}));var he=re(fe,[["__file","progress.vue"]]);const ke=oe(he);export{ke as E};
