import{_ as S,r as x,u as j,q as g,m as O,o as d,c as V,w as a,t as N,e as u,d as e,b as s,j as i,F as B,G as F,p as E,g as P,f as T,E as A,a7 as G,a8 as L,ab as W,aa as H,h as J,M as K,N as X,ap as Y,n as Z}from"./index-DKVio5DX.js";import{E as ee,a as le}from"./col-Ru1YGmP5.js";import{i as ae}from"./index--bFGqZaq.js";import{E as te}from"./alert-GJy0wCuj.js";import{i as oe}from"./index-1zv9CzUI.js";import{g as se,s as re}from"./index-gjnIfJtU.js";import{c as _e}from"./index-u9YAvNP5.js";import{i as ue}from"./index-C8m5DZvo.js";const y=f=>(K("data-v-71c31f84"),f=f(),X(),f),ne=y(()=>i("br",null,null,-1)),de=y(()=>i("br",null,null,-1)),pe=y(()=>i("a",{href:"https://tool.4xseo.com/a/15066.html",target:"_blank"},"点击查看",-1)),me=y(()=>i("br",null,null,-1)),fe={__name:"web-form",props:{data:Object},emits:["done"],setup(f,{emit:v}){const U=v,p=x(!1),c=x(null),h=x([]),{form:l,assignFields:ge}=j({weburl:"",webstatus:void 0,kfqq:"",role_id_agent:void 0,role_id_author:void 0,reg_author:void 0,skey:"",soft_user_usemoney:"",soft_charge:"",pan_file_type:"",pan_file_size:"",pan_file_max_size:"",pan_file_exename:""});se().then(r=>{l.weburl=r.weburl,l.webstatus=r.webstatus,l.kfqq=r.kfqq,l.role_id_agent=r.role_id_agent,l.role_id_author=r.role_id_author,l.reg_author=r.reg_author,l.skey=r.skey,l.soft_user_usemoney=r.soft_user_usemoney,l.soft_charge=r.soft_charge,l.pan_file_type=r.pan_file_type,l.pan_file_size=r.pan_file_size,l.pan_file_max_size=r.pan_file_max_size,l.pan_file_exename=r.pan_file_exename}).catch(r=>{g.error(r.message)}),_e().then(r=>{h.value=r}).catch(r=>{g.error(r.message)});const C=O({webName:[{required:!0,message:"请输入站点名称",type:"string",trigger:"blur"}],webStatus:[{required:!0,message:"请选择网站运营状态",type:"string",trigger:"blur"}],webUrl:[{required:!0,message:"请输入网站域名",type:"string",trigger:"blur"}]}),D=()=>{var r,o;(o=(r=c.value)==null?void 0:r.validate)==null||o.call(r,k=>{k&&(p.value=!0,re(l).then(_=>{p.value=!1,g.success("保存成功"),U("done",_)}).catch(_=>{p.value=!1,g.error(_.message)}))})};return(r,o)=>{const k=P,_=T,w=oe,z=ee,M=te,n=A,m=G,b=L,q=W,I=ae,Q=H,R=le,$=J;return d(),V($,{ref_key:"formRef",ref:c,model:s(l),rules:C,"label-width":"80px"},{default:a(()=>[e(R,{gutter:10},{default:a(()=>[e(z,{xs:24,sm:24,md:24,lg:24,xl:24},{default:a(()=>[e(w,null,{default:a(()=>[e(_,{style:{"margin-left":"-90px","margin-top":"-10px","margin-block":"-10px"}},{default:a(()=>[e(k,{type:"primary",loading:p.value,onClick:D},{default:a(()=>[u(N(p.value?"保存中..":"保存"),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1}),e(z,{xs:24,sm:24,md:24,lg:24,xl:24},{default:a(()=>[e(w,{"body-style":{padding:"2px 10px 10px 10px"}},{default:a(()=>[e(Q,{class:"demo-tabs"},{default:a(()=>[e(q,{label:"基础设置"},{default:a(()=>[e(M,{title:"⚠️ 系统必要配置",type:"success",closable:!1},{default:a(()=>[u(" 请配置定时作业地址：后端接口地址+"),i("u",null,"/sapi/service?skey="+N(s(l).skey),1),u(" （推荐1分钟监控一次） 该监控用于系统的一些自动作业，未配置的话一些功能将会异常 ")]),_:1}),ne,e(_,{label:"网站域名",prop:"weburl"},{default:a(()=>[e(n,{clearable:"",modelValue:s(l).weburl,"onUpdate:modelValue":o[0]||(o[0]=t=>s(l).weburl=t),placeholder:"请输入网站域名，附带http(s)://"},null,8,["modelValue"])]),_:1}),e(_,{label:"网站状态",prop:"webstatus"},{default:a(()=>[e(b,{clearable:"",modelValue:s(l).webstatus,"onUpdate:modelValue":o[1]||(o[1]=t=>s(l).webstatus=t),placeholder:"请选择网站运营状态",class:"ele-fluid"},{default:a(()=>[e(m,{value:"1",label:"正常"}),e(m,{value:"2",label:"维护（维护时客户端接口不可登录）"})]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"客服QQ",prop:"kfqq"},{default:a(()=>[e(n,{clearable:"",modelValue:s(l).kfqq,"onUpdate:modelValue":o[2]||(o[2]=t=>s(l).kfqq=t),placeholder:"请输入客服QQ号"},null,8,["modelValue"])]),_:1}),e(_,{label:"注册作者",prop:"reg_author"},{default:a(()=>[e(b,{clearable:"",modelValue:s(l).reg_author,"onUpdate:modelValue":o[3]||(o[3]=t=>s(l).reg_author=t),placeholder:"请选择是否开启站点注册作者功能",class:"ele-fluid"},{default:a(()=>[e(m,{value:"0",label:"关闭"}),e(m,{value:"1",label:"开启"})]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"作者权限",prop:"role_id_author"},{default:a(()=>[e(b,{clearable:"",modelValue:s(l).role_id_author,"onUpdate:modelValue":o[4]||(o[4]=t=>s(l).role_id_author=t),placeholder:"请选择作者绑定的权限组",class:"ele-fluid"},{default:a(()=>[(d(!0),E(B,null,F(h.value,t=>(d(),V(m,{key:t.roleId,value:t.roleId,label:t.roleName},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"代理权限",prop:"role_id_agent"},{default:a(()=>[e(b,{clearable:"",modelValue:s(l).role_id_agent,"onUpdate:modelValue":o[5]||(o[5]=t=>s(l).role_id_agent=t),placeholder:"请选择代理绑定的权限组",class:"ele-fluid"},{default:a(()=>[(d(!0),E(B,null,F(h.value,t=>(d(),V(m,{key:t.roleId,value:t.roleId,label:t.roleName},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(q,{label:"收费设置"},{default:a(()=>[e(I,{type:"warning",closable:!1},{default:a(()=>[u(" 作者的每个用户每天登录会扣除设置的 [消耗电量] 已经进行当天计费扣除的用户如果当天重复登录的话不会重复扣除作者的CPU电量 ")]),_:1}),de,e(_,{label:"消耗电量",prop:"soft_user_usemoney"},{default:a(()=>[e(n,{clearable:"",modelValue:s(l).soft_user_usemoney,"onUpdate:modelValue":o[6]||(o[6]=t=>s(l).soft_user_usemoney=t),placeholder:"请输入软件用户每日登录消耗作者的电量(留空不消耗)"},{append:a(()=>[u("⚡")]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"充电比例",prop:"soft_charge"},{default:a(()=>[e(n,{clearable:"",modelValue:s(l).soft_charge,"onUpdate:modelValue":o[7]||(o[7]=t=>s(l).soft_charge=t),placeholder:"1￥=多少电量"},{append:a(()=>[u("⚡")]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(q,{label:"网盘设置"},{default:a(()=>[e(I,{type:"success",closable:!1},{default:a(()=>[u(" 设置可多种上传格式请用英文逗号分割 文件类型请参考此表："),pe]),_:1}),me,e(_,{label:"文件类型",prop:"pan_file_type"},{default:a(()=>[e(n,{rows:4,type:"textarea",maxlength:500,modelValue:s(l).pan_file_type,"onUpdate:modelValue":o[8]||(o[8]=t=>s(l).pan_file_type=t),placeholder:"请输入可上传的文件类型，多个格式请用英文逗号分割"},null,8,["modelValue"])]),_:1}),e(_,{label:"扩展名称",prop:"pan_file_exename"},{default:a(()=>[e(n,{rows:4,type:"textarea",maxlength:500,modelValue:s(l).pan_file_exename,"onUpdate:modelValue":o[9]||(o[9]=t=>s(l).pan_file_exename=t),placeholder:"请输入可上传的文件扩展名，多个格式请用英文逗号分割"},null,8,["modelValue"])]),_:1}),e(_,{label:"最大上传",prop:"pan_file_size"},{default:a(()=>[e(n,{clearable:"",modelValue:s(l).pan_file_size,"onUpdate:modelValue":o[10]||(o[10]=t=>s(l).pan_file_size=t),placeholder:"请输入单文件最大上传文件大小"},{append:a(()=>[u("MB")]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"网盘容量",prop:"pan_file_max_size"},{default:a(()=>[e(n,{clearable:"",modelValue:s(l).pan_file_max_size,"onUpdate:modelValue":o[11]||(o[11]=t=>s(l).pan_file_max_size=t),placeholder:"请输入每个作者的网盘容量"},{append:a(()=>[u("MB")]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}},ie=S(fe,[["__scopeId","data-v-71c31f84"]]),ce={name:"UserProfile"},be=Object.assign(ce,{setup(f){Y();const v=x("info");return(U,p)=>{const c=ue;return d(),E("div",null,[e(c,{"hide-footer":"","flex-table":!0},{default:a(()=>[v.value==="info"?(d(),V(ie,{key:0})):Z("",!0)]),_:1})])}}}),Ue=S(be,[["__scopeId","data-v-9fca0b67"]]);export{Ue as default};
