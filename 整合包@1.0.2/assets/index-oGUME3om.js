import{a9 as j,o,p as g,j as B,E as q,A as G,k as K,K as Z,cj as H,ac as J,r as v,v as b,i as N,Z as m,c as h,w as u,af as y,n as C,ag as Q,a6 as A,R as X,d as T,aF as Y,F as E,t as V,e as $,G as _}from"./index-DKVio5DX.js";const x=j({name:"CloseOutlined"}),ee=(e,t)=>{const a=e.__vccOpts||e;for(const[n,s]of t)a[n]=s;return a},le={viewBox:"0 0 48 48",fill:"none"},te=B("path",{d:"M14 14L34 34",stroke:"currentColor","stroke-width":"4.8","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),ae=B("path",{d:"M14 34L34 14",stroke:"currentColor","stroke-width":"4.8","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),ne=[te,ae];function se(e,t,a,n,s,c){return o(),g("svg",le,ne)}const ie=ee(x,[["render",se]]),oe={value:{type:[String,Number,Boolean,Array],default:()=>null},multiple:Boolean,disabled:Boolean,size:String,clearable:Boolean,placeholder:String,selectedLabel:String,selected:Array,maxTagCount:Number,maxTagTextLength:Number,tagType:String,automaticDropdown:Boolean,filterable:Boolean,visible:Boolean,teleported:Boolean,persistent:Boolean,placement:String,transition:{type:String,default:"el-fade-in-linear"},popperOptions:Object,popperClass:String,popperWidth:[Number,String],selectClass:String,selectStyle:Object,inputStyle:Object},re={"update:visible":e=>!0,removeTag:e=>!0,clear:()=>!0,focus:e=>!0,blur:e=>!0,filterChange:e=>!0},ue=j({name:"EleBasicSelect",components:{ElInput:q,ElIcon:G,ElTag:K,EleTooltip:Z,CloseOutlined:ie,ArrowDown:H},props:oe,emits:re,setup(e,{emit:t}){const{authenticated:a}=J(),n=v(null),s=v(null),c=v(null),r=v(e.multiple||!e.selectedLabel?"":e.selectedLabel),d=v(""),f=b(()=>e.multiple?!Array.isArray(e.value)||!e.value.length:e.value==null||e.value===""),S=b(()=>{const l=f.value&&e.placeholder?e.placeholder:"";return!e.filterable||!e.visible||e.multiple?l:e.selectedLabel||l}),p=b(()=>typeof e.maxTagCount=="number"&&e.selected!=null&&e.selected.length>e.maxTagCount),k=b(()=>!p.value||f.value||e.selected==null?e.selected||[]:e.selected.slice(0,e.maxTagCount)),i=b(()=>!p.value||f.value||e.selected==null?[]:e.selected.slice(e.maxTagCount)),z=b(()=>f.value||e.maxTagCount==null||e.maxTagCount<0?0:e.value.length-e.maxTagCount),w=()=>{n.value&&n.value.updatePopper()},I=()=>{if(e.filterable&&e.visible){const l=e.multiple?c.value:s.value;l&&l.focus()}},F=l=>{e.filterable&&e.visible&&e.multiple&&(d.value=l,t("filterChange",l))},R=l=>{e.filterable&&e.visible&&!e.multiple&&(r.value=l,t("filterChange",l))},L=l=>{(a.value&&!e.disabled||!l)&&t("update:visible",l)},D=l=>{a.value&&!e.disabled&&t("removeTag",l)},U=()=>{t("clear")},M=l=>{e.automaticDropdown&&!e.visible&&L(!0),t("focus",l)},W=l=>{t("blur",l)};return N(()=>e.selectedLabel,l=>{(!e.filterable||!e.visible)&&(r.value=e.multiple||!l?"":l)}),N(()=>e.visible,l=>{if(e.filterable)if(e.multiple)d.value="",l&&I();else{const O=e.selectedLabel;r.value=l||!O?"":O}}),{tooltipRef:n,inputRef:s,searchRef:c,inputValue:r,searchValue:d,isEmpty:f,inputPlaceholder:S,isCollapse:p,currentTags:k,omittedTags:i,omittedSize:z,updatePopper:w,focusSearchInput:I,updateSearchValue:F,updateInputValue:R,updateVisible:L,onTagClose:D,onClear:U,onInputFocus:M,onInputBlur:W}}}),de=(e,t)=>{const a=e.__vccOpts||e;for(const[n,s]of t)a[n]=s;return a},ce={key:0,class:"ele-select-tags"};function fe(e,t,a,n,s,c){const r=m("CloseOutlined"),d=m("ElIcon"),f=m("ArrowDown"),S=m("ElInput"),p=m("ElTag"),k=m("EleTooltip");return o(),h(k,{ref:"tooltipRef",trigger:"click",visible:e.visible,disabled:e.disabled,placement:e.placement,teleported:e.teleported,width:e.popperWidth,popperClass:e.popperClass,popperOptions:e.popperOptions,transition:e.transition,gpuAcceleration:e.transition==="el-fade-in-linear",effect:"light",persistent:!0,isPopover:!0,"onUpdate:visible":e.updateVisible},{body:u(()=>[e.persistent||e.visible?(o(),g("div",{key:0,class:"ele-popover-body",onClick:t[0]||(t[0]=(...i)=>e.focusSearchInput&&e.focusSearchInput(...i))},[y(e.$slots,"default")])):C("",!0)]),default:u(()=>[B("div",{class:Q(["ele-select",e.selectClass,{"is-empty":e.isEmpty},{"is-multiple":e.multiple},{"is-disabled":e.disabled},{"is-filterable":e.filterable},{"is-small":e.size==="small"},{"is-large":e.size==="large"},{"is-opened":e.visible}]),style:A(e.selectStyle)},[T(S,{ref:"inputRef",size:e.size,disabled:e.disabled,validateEvent:!1,modelValue:e.inputValue,placeholder:e.filterable&&e.multiple&&e.visible?"":e.inputPlaceholder,readonly:!e.filterable||!e.visible||e.multiple,style:A(e.inputStyle),"onUpdate:modelValue":e.updateInputValue,onFocus:e.onInputFocus,onBlur:e.onInputBlur},Y({suffix:u(()=>[e.clearable&&!e.disabled&&!e.isEmpty?(o(),h(d,{key:0,class:"ele-select-clear el-input__icon",onClick:X(e.onClear,["stop"])},{default:u(()=>[y(e.$slots,"clearIcon",{},()=>[T(r)])]),_:3},8,["onClick"])):C("",!0),T(d,{class:"ele-select-arrow el-input__icon"},{default:u(()=>[y(e.$slots,"suffixIcon",{visible:e.visible},()=>[T(f)])]),_:3})]),_:2},[e.$slots.prefix?{name:"prefix",fn:u(()=>[y(e.$slots,"prefix")]),key:"0"}:void 0]),1032,["size","disabled","modelValue","placeholder","readonly","style","onUpdate:modelValue","onFocus","onBlur"]),e.multiple?(o(),g("div",ce,[(o(!0),g(E,null,_(e.currentTags,(i,z)=>(o(),h(p,{key:z+"-"+i.value,size:e.size,type:e.tagType,closable:!e.disabled,disableTransitions:!0,title:i.label,onClose:w=>e.onTagClose(i)},{default:u(()=>[i.label&&e.maxTagTextLength&&i.label.length>e.maxTagTextLength?(o(),g(E,{key:0},[$(V(i.label.slice(0,e.maxTagTextLength))+"... ",1)],64)):(o(),g(E,{key:1},[$(V(i.label),1)],64))]),_:2},1032,["size","type","closable","title","onClose"]))),128)),e.isCollapse?(o(),h(p,{key:0,size:e.size,type:e.tagType,disableTransitions:!0},{default:u(()=>[y(e.$slots,"maxTagPlaceholder",{omittedValues:e.omittedTags,omittedSize:e.omittedSize},()=>[$(" +"+V(e.omittedSize),1)])]),_:3},8,["size","type"])):C("",!0),!e.disabled&&e.filterable?(o(),h(p,{key:1,size:e.size,disableTransitions:!0,class:"ele-select-search"},{default:u(()=>[T(S,{ref:"searchRef",size:e.size,validateEvent:!1,modelValue:e.searchValue,placeholder:e.inputPlaceholder,"onUpdate:modelValue":e.updateSearchValue},null,8,["size","modelValue","placeholder","onUpdate:modelValue"])]),_:1},8,["size"])):C("",!0)])):C("",!0)],6)]),_:3},8,["visible","disabled","placement","teleported","width","popperClass","popperOptions","transition","gpuAcceleration","onUpdate:visible"])}const be=de(ue,[["render",fe]]);function P(e,t){return e==null||e===""||t&&!e.length}function me(e,t,a){const n=P(e),s=P(t);if(n&&s)return!1;if(!a)return n!==s||e!==t;const c=n||!e.length,r=s||!t.length;return c&&r?!1:c!==r||e.length!==t.length?!0:e.some(d=>!t.includes(d))}export{P as a,be as i,me as v};
