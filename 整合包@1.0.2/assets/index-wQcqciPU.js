import{_ as I,O as V,P as F,T as P,u as q,r as w,i as A,o as r,c,w as t,U as C,b as e,e as p,d as s,j as l,t as o,n as O,F as R,G as U,p as $,g as j,V as M,k as G,q as H}from"./index-DKVio5DX.js";import{i as L}from"./index-1zv9CzUI.js";import{E as S,a as J}from"./descriptions-item-KgQ7D8Go.js";import{i as K}from"./index-Mhy2Zebh.js";import{g as Q}from"./index-qqXm-H4k.js";import{i as W}from"./index-C8m5DZvo.js";const X={style:{"margin-bottom":"16px"}},Y={style:{display:"flex"}},Z={name:"AgentDetails"},ee=Object.assign(Z,{setup(ae){const g="/agent/user/details",{currentRoute:m,push:k}=V(),{removePageTab:y}=F(),{mobile:x}=P(),{form:a,assignFields:h}=q({userId:void 0,avatar:void 0,username:"",nickname:"",sexName:"",phone:"",roles:[],createTime:void 0,loginTime:void 0,status:void 0,money:void 0,consume:void 0}),_=w(!0),T=()=>{y({key:e(m).path}),k("/agent/user")},E=()=>{const{query:d}=e(m),i=d.id;!i||a.userId===Number(i)||(_.value=!0,Q(Number(i)).then(u=>{_.value=!1,h(u)}).catch(u=>{_.value=!1,H.error(u.message)}))};return A(m,d=>{const{path:i}=e(d);i===g&&E()},{immediate:!0}),(d,i)=>{const u=j,f=M,n=S,b=K,N=G,B=J,z=L,D=W;return r(),c(D,{"multi-card":!1},{default:t(()=>[s(z,null,{default:t(()=>[l("div",X,[s(u,{icon:e(C),type:"primary",class:"ele-btn-icon",onClick:T},{default:t(()=>[p(" 返回列表 ")]),_:1},8,["icon"])]),s(B,{border:!0,column:e(x)?1:2,class:"detail-table"},{default:t(()=>[s(n,{label:"头像"},{default:t(()=>[l("div",Y,[e(a).avatar?(r(),c(f,{key:0,src:e(a).avatar,size:32},null,8,["src"])):(r(),c(f,{key:1,style:{background:"#1677ff"},size:32},{default:t(()=>[p(o(e(a).nickname&&e(a).nickname.length>2?e(a).nickname.substring(e(a).nickname.length-2):e(a).nickname),1)]),_:1}))])]),_:1}),s(n,{label:"用户名"},{default:t(()=>[l("div",null,o(e(a).nickname),1)]),_:1}),s(n,{label:"账号"},{default:t(()=>[l("div",null,o(e(a).username),1)]),_:1}),s(n,{label:"状态"},{default:t(()=>[e(a).status===0?(r(),c(b,{key:0,text:"正常",size:"9px"})):e(a).status===1?(r(),c(b,{key:1,text:"冻结",type:"danger",ripple:!1,size:"9px"})):O("",!0)]),_:1}),s(n,{label:"性别"},{default:t(()=>[l("div",null,o(e(a).sexName),1)]),_:1}),s(n,{label:"手机号"},{default:t(()=>[l("div",null,o(e(a).phone),1)]),_:1}),s(n,{label:"账户余额"},{default:t(()=>[l("div",null,o(e(a).money)+"￥",1)]),_:1}),s(n,{label:"账户消费"},{default:t(()=>[l("div",null,o(e(a).consume)+"￥",1)]),_:1}),s(n,{label:"角色"},{default:t(()=>[(r(!0),$(R,null,U(e(a).roles,v=>(r(),c(N,{key:v.roleId,size:"small","disable-transitions":!0},{default:t(()=>[p(o(v.roleName),1)]),_:2},1024))),128))]),_:1}),s(n,{label:"登录时间"},{default:t(()=>[l("div",null,o(e(a).loginTime),1)]),_:1}),s(n,{label:"创建时间"},{default:t(()=>[l("div",null,o(e(a).createTime),1)]),_:1})]),_:1},8,["column"])]),_:1})]),_:1})}}}),ie=I(ee,[["__scopeId","data-v-e83e081e"]]);export{ie as default};
